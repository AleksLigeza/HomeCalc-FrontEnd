<div id="history">
  <div class="form-box mb-3">
    <div class="form-top-simple">
      <h4><b>Filtry</b>
        <button class="btn btn-link chevron-right" *ngIf="filtersVisible" (click)="showHideFilters()" type="button" data-toggle="collapse"
          data-target="#filtersDiv" aria-expanded="false" aria-controls="filtersDiv">
          <i class="fas fa-chevron-up"></i>
        </button>
        <button class="btn btn-link chevron-right" *ngIf="!filtersVisible" (click)="showHideFilters()" type="button" data-toggle="collapse"
          data-target="#filtersDiv" aria-expanded="false" aria-controls="filtersDiv">
          <i class="fas fa-chevron-down"></i>
        </button>
      </h4>
    </div>
    <div class="form-bottom collapse" id="filtersDiv">
      <div class="row justify-content-center mb-3">
        <div class="col-12 col-sm-2 mb-2">
          <h5>Kwota</h5>
        </div>
        <div class="input-group col-12 col-sm-5 mb-2">
          <div class="input-group-prepend">
            <span class="input-group-text">Od:</span>
          </div>
          <input type="number" max="999999999" min="0" class="form-control" [(ngModel)]="filters.amountFrom">
          <div class="input-group-append">
            <span class="input-group-text">zł</span>
          </div>
        </div>
        <div class="input-group col-12 col-sm-5 mb-2">
          <div class="input-group-prepend">
            <span class="input-group-text">Do:</span>
          </div>
          <input type="number" max="999999999" min="0" class="form-control" [(ngModel)]="filters.amountTo">
          <div class="input-group-append">
            <span class="input-group-text">zł</span>
          </div>
        </div>
      </div>

      <div class="row justify-content-center mb-3">
        <div class="col-sm-2 mb-2">
          <h5>Opis</h5>
        </div>
        <div class="input-group col-sm-10 mb-2">
          <input type="text" maxlength="50" class="form-control" [(ngModel)]="filters.description">
        </div>
      </div>

      <div class="row justify-content-center mb-3">
        <div class="col-12 col-sm-2 mb-2">
          <h5>Data</h5>
        </div>
        <div class="input-group col-12 col-sm-10 col-md-5 mb-2">
          <div class="input-group-prepend">
            <span class="input-group-text">Od:</span>
          </div>
          <input type="date" class="form-control" [value]="filters.dateSince | date:'yyyy-MM-dd'" (input)="filters.dateSince = $event.target.valueAsDate"
          />
        </div>
        <div class="col-0 col-sm-2 d-md-none">
        </div>
        <div class="input-group col-12 col-sm-10 col-md-5 mb-2">
          <div class="input-group-prepend">
            <span class="input-group-text">Do:</span>
          </div>
          <input type="date" class="form-control" [value]="filters.dateTo | date:'yyyy-MM-dd'" (input)="filters.dateTo = $event.target.valueAsDate"
          />
        </div>
      </div>

      <div class="row justify-content-center mb-3">
        <div class="col-12 col-sm-2 mb-2">
          <h5>Typ</h5>
        </div>
        <div class="btn-group btn-group-toggle col-12 col-sm-10 row buttons" data-toggle="buttons">
          <label class="btn btn-dark active col-4 typeOption" (click)="changeType(0)">
            <input type="radio" name="typeOptions" ng-control="options" [value]="0" [(ngModel)]="filters.type" autocomplete="off" checked> Razem
          </label>
          <label class="btn btn-dark col-4 typeOption"(click)="changeType(1)">
            <input type="radio" name="typeOptions" ng-control="options" [value]="1" [(ngModel)]="filters.type" autocomplete="off"> Zarobek
          </label>
          <label class="btn btn-dark col-4 typeOption" (click)="changeType(2)">
            <input type="radio" name="typeOptions" ng-control="options" [value]="2" [(ngModel)]="filters.type" autocomplete="off"> Wydatek
          </label>
        </div>
      </div>
      <div class = "row justify-content-center" >
      <button type="button" class="btn btn-info col-5 btn-bold" (click)="allowResetHistory();getHistoryWithFilters()">Filtruj</button>
      <button type="button" class="btn btn-secondary col-5  btn-bold" (click)="clearFilters();allowResetHistory();getHistory()">Wyczyść</button>
    </div> </div>
  </div>
  <app-operation-list [list]='history' [listTitle]="'Historia operacji'"></app-operation-list>
  <button type="button" class="btn btn-info btn-block" (click)="loadMore()">Załaduj więcej</button>
</div>